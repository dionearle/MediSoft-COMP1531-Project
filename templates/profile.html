{% extends 'base.html' %}
{% block profile_banner %}
<a class="item" href="/">
    Home
</a>
<a class="active item" href="/search">
    Search
</a>
<a class="item" href="/appointments">
    Appointments
</a>
<div class="right menu">
    <a class="ui item" href="/logout">
        Logout
    </a>
</div>
{% endblock %}
{% block profile %}
    <style>
        #information {
            display: block;
            position: relative;
            margin: 40px auto;
            height: auto;
            width: 500px;
            padding: 20px;
            border: 1px solid;
        }
    </style>
    {% if option == "provider" or option == "service" %}
    <form method="POST" action="/book/{{ provider.get_id() }}">
    {% else %}
    <form method="POST" action="/book/{{ name }}">
    {% endif %}

    {% if option == "healthCentre" %}
        <h2 style="text-align: center">Profile Page - Health Centre</h2>
        <table class="table" id="information">
            <tr>
                <th>Centre Type</th>
                <td>{{ centre.getCentreType() }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ centre.getName() }}</td>
            </tr>
            <tr>
                <th>ABN</th>
                <td>{{ centre.getABN() }}</td>
            </tr>
            <tr>
                <th>Phone</th>
                <td>{{ centre.getPhone() }}</td>
            </tr>
            <tr>
                <th>Suburb</th>
                <td>{{ centre.getSuburb() }}</td>
            </tr>
            <tr>
                <th>Rating</th>
                <td>{{ centre.getRating() }}</td>
            </tr>
        <!-- <table class="table" id="information">
            <tr>
                <th>Centre Type</th>
                <td>{{ typeCentre }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ name }}</td>
            </tr>
            <tr>
                <th>ABN</th>
                <td>{{ abn }}</td>
            </tr>
            <tr>
                <th>Phone</th>
                <td>{{ phone }}</td>
            </tr>
            <tr>
                <th>Suburb</th>
                <td>{{ suburb }}</td>
            </tr>
            <tr>
                <th>Rating</th>
                <td>{{ rating }}</td>
            </tr>
    {% if option == "healthProvider"%}
            <tr>
                <th>Email</th>
                <td name="email">{{ email }}</td>
            </tr>
            {% if current_user.isPatient() == True %}
                    <tr>
                        <td>
                            <button class="ui labeled icon button">
                              <i class="pencil icon"></i>
                                Book appointment
                            </button>
                        </td>
                    </tr>
            {% endif %}
    {% endif %}
    {% if option == "service" %}
            <tr>
                <th>Email</th>
                <td name="email">{{ email }}</td>
            </tr>
            <tr>
                <th>Service</th>
                <td>{{ service }}</td>
            </tr>
            {% if current_user.isPatient() == True %}
                    <tr>
                        <td>
                            <button class="ui labeled icon button">
                              <i class="pencil icon"></i>
                                Book appointment
                            </button>
                        </td>
                    </tr>
            {% endif %}
    {% endif %}
        </table> -->

        </table>
    
    {% endif %}
    {% if option == "provider" %}
        <h2 style="text-align: center">Profile Page - Provider</h2>
        <table class="table" id="information">
            <tr>
                <th>Profession</th>
                <td>{{ provider.getProfession() }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ provider.get_id() }}</td>
            </tr>
            <tr>
                <th>Working Hours</th>
                <td>{{ provider.workingHours }}</td>
            </tr>
            <tr>
                <th>Rating</th>
                <td>{{ provider.rating }}</td>
            </tr>
            <tr>
                <th>Provider Number</th>
                <td>{{ provider.providerNum }}</td>
            </tr>
            {% if current_user.isPatient() == True %}
                    <tr>
                        <td>
                            <button class="ui labeled icon button">
                              <i class="pencil icon"></i>
                                Book appointment
                            </button>
                        </td>
                    </tr>
            {% endif %}
        </table>
    {% endif %}
    </form>

    {% if option == "healthCentre" or option == "suburb" %}
    <table class="table">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Email</th>
            <th scope="col">Provider Number</th>
            <th scope="col">Profession</th>
            <th scope="col">Rating</th>
        </tr>
    </thead>
    <tbody>
        {% for item in centre.getProviders() %}

        <tr>
            <th scope="row">{{ loop.index }}</th>
            <td>{{ item.get_id() }} </td>
            <td>{{ item.providerNum }}</td>
            <td>{{ item.getProfession() }}</td>
            <td>{{ item.rating }}</td>
            <td>
                <form method='POST' action='/profile/provider/{{ item["name"] }}'>
                    <input type="hidden" value='{{ option }}' name="option"/>
                    <input type="hidden" value="{{ item["user"] }}" name="user"/>
                    <input type="hidden" value="{{ item["typeCentre"] }}" name="typeCentre"/>
                    <input type="hidden" value="{{ item["name"] }}" name="name"/>
                    <input type="hidden" value="{{ item["abn"] }}" name="abn"/>
                    <input type="hidden" value="{{ item["phone"] }}" name="phone"/>
                    <input type="hidden" value="{{ item["suburb"] }}" name="suburb"/>
                    <input type="submit" class="ui basic button" value="View Profile"/>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
    {% endif %}

    
{% endblock %}
